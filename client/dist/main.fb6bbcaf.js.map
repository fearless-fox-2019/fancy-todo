{"version":3,"sources":["js/main.js"],"names":["$","hide","localStorage","getItem","show","document","ready","fetchMyTodos","fetchMyProjects","on","addClass","removeClass","fadeToggle","fadeIn","event","target","toggleClass","tab","today","Date","resetNewTodoForm","modal","calendar","type","minDate","getFullYear","getMonth","getDate","val","resetLoginForm","register","preventDefault","name","email","password","ajax","url","method","data","done","response","fail","jqXHR","textstatus","console","log","login","setItem","accesstoken","postLogin","swal","responseJSON","message","onSignIn","googleUser","id_token","getAuthResponse","token","logout","auth2","gapi","getAuthInstance","signOut","then","clear","prelogin","catch","err"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"..","sourcesContent":["$('#project-list-page').hide()\n\nif (localStorage.getItem('accesstoken')) {\n    $('#sign-in-form').hide()\n    $('#mytodos').show()\n    $('nav').show()\n    $('#project-page').hide()\n} else {\n    $('#sign-in-form').show()\n    $('#mytodos').hide()\n    $('nav').hide()\n    $('#project-page').hide()\n}\n\n$(document).ready(() => {\n    if (localStorage.getItem('accesstoken')) {\n        fetchMyTodos()\n        fetchMyProjects()\n    }\n    \n    $('#view-project-list').on('click', () => {\n        $('#project-list-page').show()\n        $('#mytodos').hide()\n        $('#view-project-list').addClass('active')\n        $('#project-page').hide()\n    })\n\n    $('#view-mytodos').on('click', () => {\n        $('#project-list-page').hide()\n        $('#mytodos').show()\n        $('#view-project-list').removeClass('active')\n        $('#project-page').hide()\n    })\n\n    $('#sign-up-form').hide()\n\n    $('#sign-up-show').on('click', () => {\n        $('#sign-in-form').fadeToggle(() => {\n            $('#sign-up-form').fadeIn()\n        })\n    })\n\n    $('#sign-in-show').on('click', () => {\n        $('#sign-up-form').fadeToggle(() => {\n            $('#sign-in-form').fadeIn()\n        })\n    })\n\n    $('.check').on('click', event => {\n        $(event.target).toggleClass('green')\n        $(event.target).toggleClass('grey')\n\n    })\n\n    $('.menu .item').tab()\n\n    $('#add-todo-button').on('click', () => {\n        const today = new Date\n\n        resetNewTodoForm()\n\n        $('#todo-form').modal('show')\n        \n        $('#date_calendar').calendar({\n            type: 'date',\n            minDate: new Date(today.getFullYear(), today.getMonth(), today.getDate())\n        })\n    })\n    \n    $('#add-project-button').on('click', () => {\n        resetNewTodoForm()\n        $('#new-project-name').val('')\n        $('.ui.tiny.modal.project').modal('show')\n    })\n\n    $('#view-members-button').on('click', () => {\n        $('.ui.tiny.modal.members').modal('show')\n    })\n\n    $('#add-member-button').on('click', () => {\n        $('.ui.tiny.modal.addmember').modal('show')\n    })\n})\n\nfunction resetNewTodoForm() {\n    $('#new-todo-name').val('')\n    $('#new-todo-desc').val('')\n    $('#date_calendar').calendar('clear')\n}\n\nfunction resetLoginForm() {\n    $('#email-login').val('')\n    $('#password-login').val('')\n}\n\nfunction register() {\n    event.preventDefault()\n\n    const name = $('#name-register').val()\n    const email = $('#email-register').val()\n    const password = $('#password-register').val()\n\n    $\n        .ajax({\n            url: `http://localhost:3000/users/register`,\n            method: 'POST',\n            data: {\n                name, email, password\n            }\n        })\n        .done(response => {\n            $('#sign-up-form').fadeToggle(() => {\n                $('#sign-in-form').fadeIn()\n            })\n        })\n        .fail((jqXHR, textstatus) => {\n            console.log(jqXHR)\n        })\n}\n\nfunction login() {\n    event.preventDefault()\n\n    const email = $('#email-login').val()\n    const password = $('#password-login').val()\n\n    $\n        .ajax({\n            url: `http://localhost:3000/users/login`,\n            method: 'post',\n            data: {\n                email, password\n            }\n        })\n        .done(response => {\n            localStorage.setItem('accesstoken', response.accesstoken)\n\n            postLogin()\n            resetLoginForm()\n        })\n        .fail((jqXHR, textstatus) => {\n            swal(jqXHR.responseJSON.message)\n        })\n}\n\nfunction onSignIn(googleUser) {\n    event.preventDefault()\n    const id_token = googleUser.getAuthResponse().id_token\n\n    $\n        .ajax({\n            url: 'http://localhost:3000/users/google-login',\n            method: 'post',\n            data: {\n                token: id_token\n            }\n        })\n        .done((response) => {\n            localStorage.setItem('accesstoken', response.accesstoken)\n\n            postLogin()\n        })\n        .fail((jqXHR, textstatus) => {\n            console.log(jqXHR)\n        })\n\n}\n\nfunction logout() {\n    const auth2 = gapi.auth2.getAuthInstance()\n    if (auth2) {\n        auth2\n            .signOut()\n            .then(function () {\n                localStorage.clear()\n\n                prelogin()\n            })\n            .catch(err => {\n                localStorage.clear()\n                console.log(err)\n            })\n    } else {\n        localStorage.clear()\n    }\n}\n\nfunction prelogin() {\n    $('#mytodos').hide()\n    $('#project-list-page').hide()\n    $('#project-page').hide()\n    $('#sign-in-form').fadeIn()\n    $('nav').hide()\n}\n\nfunction postLogin() {\n    fetchMyProjects()\n    $('#project-page').hide()\n    $('#mytodos').fadeIn()\n    $('#sign-in-form').hide()\n    $('nav').fadeIn()\n\n    $('#add-todo-button').on('click', () => {\n        const today = new Date\n\n        resetNewTodoForm()\n\n        $('#todo-form').modal('show')\n        $('#date_calendar').calendar({\n            type: 'date',\n            minDate: new Date(today.getFullYear(), today.getMonth(), today.getDate())\n        })\n    })\n\n}"]}