{"version":3,"sources":["js/project.js"],"names":["showProjectPage","$","hide","fadeIn","removeClass","fetchMyProjects","empty","ajax","url","method","headers","accesstoken","localStorage","getItem","done","projects","console","log","raw","forEach","project","name","_id","master","members","length","todos","append","fail","jqXHR","textstatus","swal","responseJSON","message","addNewProject","event","preventDefault","val","data","deleteProject","id","title","text","icon","buttons","dangerMode","then","willDelete","response","projectPage","options","weekday","month","day","rawAll","rawCom","rawIn","todo","status","description","Date","due_date","toLocaleDateString","rawForm","rawMembers","member","rawMemberForm","on","modal","today","resetNewTodoForm","calendar","type","minDate","getFullYear","getMonth","getDate","addTodoProject","updateTodoProject","todoId","projectId","deleteTodoProject","addMember","newMemberEmail","email"],"mappings":"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","file":"project.11e9b9e2.js","sourceRoot":"..","sourcesContent":["function showProjectPage() {\n    $('#mytodos').hide()\n    $('#sign-in-form').hide()\n    $('#project-page').fadeIn()\n    $('#project-list-page').hide()\n    $('#view-project-list').removeClass('active')\n}\n\nfunction fetchMyProjects() {\n    $('#project-list').empty()\n\n    $\n        .ajax({\n            url: 'http://localhost:3000/projects/',\n            method: 'GET',\n            headers: {\n                accesstoken: localStorage.getItem('accesstoken')\n            }\n        })\n        .done(projects => {\n            console.log(projects)\n\n            let raw = ``\n\n            projects.forEach(project => {\n                raw += `\n                <div class=\"four wide column\">\n                <div class=\"ui card piled segment animated jackInTheBox\">\n                  <div class=\"content\">\n                    <div class=\"header\">\n                      ${project.name}\n                      <i class=\"right floated trash small grey icon\" onclick=\"deleteProject('${project._id}')\"></i>\n                    </div>\n                  </div>\n                  <div class=\"content\">\n                    <h4 class=\"ui sub header\">Detail</h4>\n                    <div class=\"ui feed\">\n                      <div class=\"event\">\n                        <div class=\"content\">\n                          <div class=\"summary\"><a>Master: </a>${project.master.name}</div>\n                        </div>\n                      </div>\n                      <div class=\"event\">\n                        <div class=\"content\">\n                          <div class=\"summary\"><a>Members: </a> ${project.members.length}</div>\n                        </div>\n                      </div>\n                      <div class=\"event\">\n                        <div class=\"content\">\n                          <div class=\"summary\"><a>Todos: </a>${project.todos.length}</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"extra content\">\n                    <button class=\"ui button\" onclick=\"projectPage('${project._id}')\">Go to Project</button>\n                  </div>\n                </div>\n              </div>\n                `\n            })\n\n            $('#project-list').append(raw)\n        })\n        .fail((jqXHR, textstatus) => {\n            swal(jqXHR.responseJSON.message)\n        })\n}\n\nfunction addNewProject() {\n    event.preventDefault()\n\n    const name = $('#new-project-name').val()\n\n    $\n        .ajax({\n            url: 'http://localhost:3000/projects/',\n            method: 'POST',\n            headers: {\n                accesstoken: localStorage.getItem('accesstoken')\n            },\n            data: {\n                name\n            }\n        })\n        .done(projects => {\n            console.log(projects)\n            fetchMyProjects()\n        })\n        .fail((jqXHR, textstatus) => {\n            swal(jqXHR.responseJSON.message)\n        })\n}\n\nfunction deleteProject(id) {\n    swal({\n        title: \"Are you sure?\",\n        text: \"Once deleted, you will not be able to recover this!\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true,\n    })\n        .then((willDelete) => {\n            if (willDelete) {\n                $\n                    .ajax({\n                        url: `http://localhost:3000/projects/${id}`,\n                        method: 'DELETE',\n                        headers: {\n                            accesstoken: localStorage.getItem('accesstoken')\n                        }\n                    })\n                    .done(response => {\n                        fetchMyProjects()\n                        swal(\"Project deleted!\", {\n                            icon: \"success\",\n                        })\n                    })\n                    .fail((jqXHR, textstatus) => {\n                        swal(jqXHR.responseJSON.message)\n                    })\n            }\n        })\n}\n\nfunction projectPage(id) {\n    showProjectPage()\n\n    $('#todos-incomplete-project').empty()\n    $('#todos-complete-project').empty()\n    $('#todos-all-project').empty()\n    $('#project-todo-form').empty()\n    $('#project-members').empty()\n    $('#add-member-form').empty()\n\n    console.log(id, 'projects iddddddd')\n\n    $\n        .ajax({\n            url: `http://localhost:3000/projects/${id}`,\n            method: 'GET',\n            headers: {\n                accesstoken: localStorage.getItem('accesstoken')\n            }\n        })\n        .done(response => {\n            $('#project-name').text(response.name)\n            console.log(response)\n\n            const options = { weekday: 'short', month: 'long', day: 'numeric' }\n\n            let rawAll = ``\n            let rawCom = ``\n            let rawIn = ``\n\n            response.todos.forEach(todo => {\n                if (todo.status) {\n                    rawCom += `\n                    <div class=\"four wide column\">\n                    <div class=\"ui link card animated flipInX\">\n                    <div class=\"content\">\n                    <i class=\"right floated check large green icon\" onclick=\"updateTodoProject('${todo._id}', ${!todo.status}, '${id}')\"></i>\n                    <div class=\"header\">${todo.name}</div>\n                        <div class=\"description\">\n                            <p>${todo.description}</p>\n                        </div>\n                    </div>\n                    <div class=\"extra content\">\n                        <span class=\"left floated trash\" onclick=\"deleteTodoProject('${todo._id}', '${id}')\">\n                            <i class=\"trash icon\"></i>\n                        </span>\n                    \n                        <span class=\"right floated clock outline\">\n                        <i class=\"clock_outline icon\"></i>\n                        Due date: ${new Date(todo.due_date).toLocaleDateString('en', options)}\n                        </span>\n                        </div>\n                        </div>\n                    </div>\n                    `\n                } else {\n                    rawIn += `\n                    <div class=\"four wide column\">\n                    <div class=\"ui link card animated flipInX\">\n                    <div class=\"content\">\n                    <i class=\"right floated check large grey icon\" onclick=\"updateTodoProject('${todo._id}', ${!todo.status}, '${id}')\"></i>\n                    <div class=\"header\">${todo.name}</div>\n                        <div class=\"description\">\n                            <p>${todo.description}</p>\n                        </div>\n                    </div>\n                    <div class=\"extra content\">\n                        <span class=\"left floated trash\" onclick=\"deleteTodoProject('${todo._id}', '${id}')\">\n                            <i class=\"trash icon\"></i>\n                        </span>\n\n                        <span class=\"right floated clock outline\">\n                        <i class=\"clock_outline icon\"></i>\n                        Due date: ${new Date(todo.due_date).toLocaleDateString('en', options)}\n                        </span>\n                        </div>\n                    </div>\n                    </div>\n                    `\n                }\n                rawAll += `\n                <div class=\"four wide column\">\n                    <div class=\"ui link card animated flipInX\">\n                    <div class=\"content\">\n                    <i class=\"right floated check large ${todo.status ? \"green\" : \"grey\"} icon\" onclick=\"updateTodoProject('${todo._id}', ${!todo.status}, '${id}')\"></i>\n                    <div class=\"header\">${todo.name}</div>\n                        <div class=\"description\">\n                            <p>${todo.description}</p>\n                        </div>\n                    </div>\n                    <div class=\"extra content\">\n                        <span class=\"left floated trash\" onclick=\"deleteTodoProject('${todo._id}', '${id}')\">\n                            <i class=\"trash icon\"></i>\n                        </span>\n\n                        <span class=\"right floated clock outline\">\n                        <i class=\"clock_outline icon\"></i>\n                        Due date: ${new Date(todo.due_date).toLocaleDateString('en', options)}\n                        </span>\n                        </div>\n                    </div>\n                </div>\n                `\n            })\n\n            let rawForm = `\n            <div class=\"ui icon header\">Add New Todo</div>\n          <div class=\"content\">\n            <form class=\"ui form\">\n              <div class=\"field\">\n                <label>Name</label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  placeholder=\"Name\"\n                  id=\"new-todo-name-project\"\n                />\n              </div>\n              <div class=\"field\">\n                <label>Description</label>\n                <textarea\n                  type=\"text\"\n                  name=\"last-name\"\n                  id=\"new-todo-desc-project\"\n                  rows=\"3\"\n                ></textarea>\n              </div>\n              <div class=\"field\">\n                <label>Due Date</label>\n                <div class=\"ui calendar\" id=\"project_date_calendar\">\n                  <div class=\"ui input left icon\">\n                    <i class=\"calendar icon\"></i>\n                    <input\n                      type=\"text\"\n                      placeholder=\"Date\"\n                      id=\"new-todo-due-date-project\"\n                      readonly=\"readonly\"\n                      required\n                    />\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n          <div class=\"actions\">\n            <div class=\"ui red cancel button\">\n              <i class=\"remove icon\"></i>\n              Cancel\n            </div>\n            <div class=\"ui green ok button\" onclick=\"addTodoProject('${id}')\">\n              <i class=\"checkmark icon\"></i>\n              Create Todo\n            </div>\n          </div>\n            ` \n\n            let rawMembers = `\n            <tr class=\"center aligned\">\n                  <td>${response.master.name} (master)</td>\n                </tr>\n            `\n\n            response.members.forEach(member => {\n                rawMembers += `\n                <tr class=\"center aligned\">\n                  <td>${member.name}</td>\n                </tr>\n                `\n            })\n\n            let rawMemberForm = `\n            <div class=\"ui red cancel button\">\n              <i class=\"remove icon\"></i>\n              Cancel\n            </div>\n            <div class=\"ui blue ok button\" onclick=\"addMember('${id}')\">\n              <i class=\"checkmark icon\"></i>\n              Add Member\n            </div>\n            `\n\n            $('#todos-all-project').append(rawAll)\n            $('#todos-incomplete-project').append(rawIn)\n            $('#todos-complete-project').append(rawCom)\n            $('#project-members').append(rawMembers)\n            $('#add-member-form').append(rawMemberForm)\n            $('#project-todo-form').append(rawForm)\n\n            $('#add-member-button').on('click', () => {\n                $('.ui.tiny.modal.addmember').modal('show')\n            })\n\n            $('#add-todo-project-button').on('click', () => {\n                const today = new Date\n        \n                resetNewTodoForm()\n        \n                $('#project-todo-form').modal('show')\n                $('#project_date_calendar').calendar({\n                    type: 'date',\n                    minDate: new Date(today.getFullYear(), today.getMonth(), today.getDate())\n                })\n            })\n        })\n        .fail((jqXHR, textstatus) => {\n            swal(jqXHR.responseJSON.message)\n        })\n}\n\nfunction addTodoProject(id) {\n\n    const name = $('#new-todo-name-project').val()\n    const description = $('#new-todo-desc-project').val() || null\n    const due_date = $('#new-todo-due-date-project').val() || null\n\n    console.log(name, description, due_date)\n    $\n        .ajax({\n            url: `http://localhost:3000/projects/${id}/add-todo`,\n            method: 'PUT',\n            headers: {\n                accesstoken: localStorage.getItem('accesstoken')\n            },\n            data: {\n                name, description, due_date\n            }\n        })\n        .done(response => {\n            projectPage(id)\n            fetchMyProjects()\n        })\n        .fail((jqXHR, textstatus) => {\n            swal(jqXHR.responseJSON.message)\n        })\n}\n\nfunction updateTodoProject(todoId, status, projectId) {\n    event.preventDefault()\n\n    $\n        .ajax({\n            url: `http://localhost:3000/projects/${projectId}/${todoId}`,\n            method: 'PATCH',\n            headers: {\n                accesstoken: localStorage.getItem('accesstoken')\n            },\n            data: {\n                status: status\n            }\n        })\n        .done(response => {\n            projectPage(projectId)\n            fetchMyProjects()\n        })\n        .fail((jqXHR, textstatus) => {\n            swal(jqXHR.responseJSON.message)\n        })\n}\n\nfunction deleteTodoProject(todoId, projectId) {\n    swal({\n        title: \"Are you sure?\",\n        text: \"Once deleted, you will not be able to recover this!\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true,\n    })\n        .then((willDelete) => {\n            if (willDelete) {\n                $\n                    .ajax({\n                        url: `http://localhost:3000/projects/${projectId}/${todoId}`,\n                        method: 'DELETE',\n                        headers: {\n                            accesstoken: localStorage.getItem('accesstoken')\n                        }\n                    })\n                    .done(response => {\n                        projectPage(projectId)\n                        fetchMyProjects()\n\n                        swal(\"Todo deleted!\", {\n                            icon: \"success\",\n                        })\n                    })\n                    .fail((jqXHR, textstatus) => {\n                        swal(jqXHR.responseJSON.message)\n                    })\n            }\n        })\n}\n\nfunction addMember(projectId) {\n    const newMemberEmail = $('#newMember').val()\n    console.log(projectId)\n    $\n        .ajax({\n            url: `http://localhost:3000/projects/${projectId}/add-member`,\n            method: 'PUT',\n            data: {\n                email: newMemberEmail\n            },\n            headers: {\n                accesstoken: localStorage.getItem('accesstoken')\n            }\n        })\n        .done(response => {\n            console.log(response)\n\n            projectPage(projectId)\n            fetchMyProjects()\n        })\n        .fail((jqXHR, textstatus) => {\n            swal(jqXHR.responseJSON.message)\n        })\n}"]}